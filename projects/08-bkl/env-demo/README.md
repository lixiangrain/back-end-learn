# 环境变量使用演示

这个项目演示了如何在 Node.js 应用中使用环境变量。

## 项目结构

```
env-demo/
├── .env              # 环境变量文件
├── .gitignore        # Git 忽略文件
├── package.json      # 项目配置文件
├── index.js          # 主程序文件
└── README.md         # 说明文档
```

## 环境变量的作用

环境变量是一种在操作系统级别设置的键值对，应用程序可以在运行时读取这些值。它们常用于：

1. 存储敏感信息（如数据库密码、API 密钥）
2. 配置应用程序行为（如日志级别、端口号）
3. 区分不同环境的配置（开发、测试、生产环境）

## 安装和运行

1. 安装依赖：

   ```bash
   npm install
   ```

2. 运行项目：

   ```bash
   npm start
   ```

   或者使用 nodemon 进行开发：

   ```bash
   npm run dev
   ```

## 代码说明

### 1. 加载环境变量

```javascript
require("dotenv").config();
```

这行代码会加载项目根目录下的 `.env` 文件，并将其中的键值对添加到 `process.env` 对象中。

### 2. 使用环境变量

```javascript
const port = process.env.PORT || 3000;
```

这里我们从环境变量中获取端口号，如果未设置则使用默认值 3000。

### 3. 环境变量的类型

所有环境变量都是字符串类型，如果需要其他类型需要手动转换：

```javascript
const portNumber = Number(process.env.PORT); // 转换为数字
```

## 安全注意事项

1. **永远不要将 `.env` 文件提交到版本控制系统**，应该将其添加到 `.gitignore` 文件中
2. **不要在日志或错误信息中输出敏感的环境变量**
3. **为不同的环境（开发、测试、生产）使用不同的 `.env` 文件**

## 最佳实践

1. 为环境变量提供合理的默认值
2. 在应用程序启动时验证必需的环境变量是否存在
3. 使用描述性的变量名称
4. 按照功能对环境变量进行分组
